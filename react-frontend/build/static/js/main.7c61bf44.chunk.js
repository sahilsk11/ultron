(this["webpackJsonpreact-frontend"]=this["webpackJsonpreact-frontend"]||[]).push([[0],{14:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(7),c=n.n(s),i=(n(14),n(1)),o=n.n(i),u=n(8),l=n(4),f=n(2),p=n.n(f);n(21);var h=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.transcript,t.startListening,r=t.resetTranscript,a=t.setMessage,!1,"https://api.sahilkapur.com/setIntent",s="?transcript="+n.toLowerCase(),fetch("https://api.sahilkapur.com/setIntent"+s).then((function(e){return e.json()})).then((function(e){"launch"===e.intent&&(window.open(e.url),a("Launching Lyft..."))})),setTimeout((function(){r()}),1e3);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var m=function(){var e=Object(r.useState)("Hello, Sahil."),t=Object(l.a)(e,2),n=t[0],s=t[1],c=Object(r.useState)(null),i=Object(l.a)(c,2),o=i[0],u=i[1],m=Object(f.useSpeechRecognition)(),g=m.listening,d=m.transcript,v=m.resetTranscript;return Object(r.useEffect)((function(){g&&(s("Go ahead..."),u(new Date)),g||""===d||h({transcript:d,startListening:p.a.startListening,resetTranscript:v,setMessage:s})}),[g]),Object(r.useEffect)((function(){return u(new Date)}),[d]),function(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){if(""!==d&&g){var e=(new Date-o)/1e3;console.log(e),e>3&&(h({transcript:d,startListening:p.a.startListening,resetTranscript:v,setMessage:s}),setTimeout((function(){return v()}),1e3))}}),""!==d?2e3:null),a.a.createElement("div",null,a.a.createElement("h2",{className:"greeting"},n),a.a.createElement("img",{className:"voice-icon",onClick:function(){return p.a.startListening({continuous:!0})},src:"https://cdn.dribbble.com/users/32512/screenshots/5668419/calm_ai_design_by_gleb.gif"}),a.a.createElement("div",{className:"listening"}),a.a.createElement("p",{className:"transcript"},a.a.createElement("em",null,d)),a.a.createElement("link",{href:"https://fonts.googleapis.com/css2?family=Montserrat:wght@200&display=swap",rel:"stylesheet"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(m,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,n){e.exports=n(22)}},[[9,1,2]]]);
//# sourceMappingURL=main.7c61bf44.chunk.js.map