(this["webpackJsonpreact-frontend"]=this["webpackJsonpreact-frontend"]||[]).push([[0],{10:function(e,t,n){e.exports=n(26)},14:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(6),r=n.n(i),c=(n(14),n(1)),o=n.n(c),l=n(9),u=n(3),m=n(2),p=n.n(m);function g(e){var t=e.data,n=e.setMessage;"unknown"===t.intent&&n("I don't quite understand."),200===t.code&&"launch"===t.intent?(window.open(t.url),n("Launching "+t.app+"...")):n(t.message)}n(21),n(22),n(23);function f(e){var t=e.closeSession,n=e.greeting,a="listening"===e.state?s.a.createElement("img",{src:"./pi-listening.gif",className:"pi-listening"}):s.a.createElement("div",{class:"spinner"},s.a.createElement("div",{class:"bounce1"}),s.a.createElement("div",{class:"bounce2"}),s.a.createElement("div",{class:"bounce3"}));return s.a.createElement("div",{onClick:function(){return t()},className:"pi-active-container"},s.a.createElement("h1",{className:"pi-greeting"},s.a.createElement("em",null,n)),s.a.createElement("div",{className:"pi-transcript-wrapper"},s.a.createElement("p",{className:"pi-transcript"},s.a.createElement("em",null,"I'm talking and this is the text"))),a)}var h=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,s,i,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.transcript,t.startListening,a=t.resetTranscript,s=t.setMessage,i=t.updateState,!1,"https://api.sahilkapur.com/setIntent",r="?transcript="+n.toLowerCase(),fetch("https://api.sahilkapur.com/setIntent"+r).then((function(e){return e.json()})).then((function(e){g({data:e,setMessage:s}),i("response")})),setTimeout((function(){a()}),1e3);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var d=function(){var e=Object(a.useState)("Hello, Sahil."),t=Object(u.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(null),c=Object(u.a)(r,2),o=c[0],l=c[1],g=Object(m.useSpeechRecognition)(),d=g.listening,v=g.transcript,E=g.resetTranscript,b=Object(a.useState)("ambient"),w=Object(u.a)(b,2),S=w[0],k=w[1];Object(a.useEffect)((function(){return l(new Date)}),[v]),function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){""!==v&&d&&((new Date-o)/1e3>2&&(h({transcript:v,startListening:p.a.startListening,resetTranscript:E,setMessage:i,updateState:k}),i("processing..."),k("processing")))}),""!==v?1e3:null);var j={message:n,transcript:v,startSession:function(){i("Go ahead..."),l(new Date),k("listening"),p.a.startListening({continuous:!0})},closeSession:function(){i("Hello, Sahil."),k("ambient")},state:S,updateState:k},O=window.location.search;return"pi"===new URLSearchParams(O).get("device")?function(e){var t,n=e.message,a=(e.transcript,e.startSession),i=e.closeSession,r=e.state,c=(e.updateState,s.a.createElement("img",{className:"pi-ambient",onClick:function(){return a()},src:"pi-ambient.gif"})),o=f({closeSession:i,greeting:"listening...",state:r}),l=f({closeSession:i,greeting:"thinking...",state:r});return console.log(r),t="ambient"===r?c:"listening"===r?o:"processing"===r?l:n,s.a.createElement("div",{className:"pi-wrapper"},t,s.a.createElement("link",{href:"https://fonts.googleapis.com/css2?family=Montserrat:wght@400&display=swap",rel:"stylesheet"}))}(j):function(e){var t=e.message,n=e.listening,a=e.stopListening,i=e.startListening,r=e.transcript;return s.a.createElement("div",null,s.a.createElement("h2",{className:"greeting"},t),s.a.createElement("div",null,s.a.createElement("img",{className:"voice-icon",onClick:function(){return n?a():i({continuous:!0})},src:"https://cdn.dribbble.com/users/32512/screenshots/5668419/calm_ai_design_by_gleb.gif"})),s.a.createElement("div",{className:"listening"}),s.a.createElement("p",{className:"transcript"},s.a.createElement("em",null,r)),s.a.createElement("link",{href:"https://fonts.googleapis.com/css2?family=Montserrat:wght@200&display=swap",rel:"stylesheet"}))}(j)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(d,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.97df4840.chunk.js.map